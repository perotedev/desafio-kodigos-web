<div class="py-3">
  <p-stepper [linear]="true" [(value)]="stepperValue">
    <p-step-item [value]="1">
      <p-step>Dados Iniciais</p-step>
      <p-step-panel>
        <ng-template #content let-activateCallback="activateCallback">
          <div class="pt-2">
            <app-service-order-form/>
          </div>

          <div class="py-3">
            <p-button
              styleClass="{{isMobile()?'w-full':''}}"
              label="Continuar"
              (onClick)="goToStep(2)"
            />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-item>

    <p-step-item [value]="2">
      <p-step>Adicionar Servi√ßos</p-step>
      <p-step-panel>
        <ng-template #content let-activateCallback="activateCallback">
          <div class="pt-2">
            <app-service-order-items
              [soId]="createdSo?createdSo.id!:0"
              [serviceTypes]="serviceTypes"
            />
          </div>

          <div class="flex py-3 gap-3">
            <p-button
              [class.w-full]="isMobile()"
              styleClass="{{isMobile()?'w-full':''}}"
              label="Voltar"
              severity="secondary"
              (onClick)="activateCallback(1)"
            />

            <p-button
              [class.w-full]="isMobile()"
              styleClass="{{isMobile()?'w-full':''}}"
              label="Continuar"
              (onClick)="activateCallback(3)"
            />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-item>

    <p-step-item [value]="3">
      <p-step>Documentos e Anexos</p-step>
      <p-step-panel>
        <ng-template #content let-activateCallback="activateCallback">
          <div class="pt-2">
            <app-service-order-files/>
          </div>

          <div class="flex py-3 gap-3">
            <p-button
              [class.w-full]="isMobile()"
              styleClass="{{isMobile()?'w-full':''}}"
              label="Voltar"
              severity="secondary"
              (onClick)="activateCallback(2)"
            />

            <p-button
              [class.w-full]="isMobile()"
              styleClass="{{isMobile()?'w-full':''}}"
              routerLink="/service-order/view/{{createdSo?.id}}"
              label="Finalizar"
            />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-item>
  </p-stepper>
</div>
